---
import Modal from '../Modal.astro';
import { AlertTriangle } from "lucide-react";
---

<Modal
  id="secrets-vault-setup-modal"
  title="Set Up Master Password"
  confirmText="Create Password"
  closeText="Cancel"
>
  <div class="space-y-4">
    <div
      class="bg-yellow-900/30 border border-yellow-600/50 rounded-lg p-4 mb-4"
    >
      <h4 class="font-medium text-yellow-400 mb-2 flex items-center gap-2"><AlertTriangle className="w-4 h-4" /> No Recovery Option</h4>
      <p class="text-sm text-yellow-200/80">
        If you forget your master password, there is <strong
          >no way to recover</strong
        > your encrypted secrets. You would need to delete the secrets file and
        start over.
      </p>
    </div>

    <div>
      <label class="block text-sm text-admin-muted mb-2"
        >Master Password</label
      >
      <input
        type="password"
        id="setup-password"
        class="w-full"
        placeholder="Create a strong password"
        autocomplete="new-password"
      />
      <div id="password-strength" class="mt-2 space-y-1"></div>
    </div>

    <div>
      <label class="block text-sm text-admin-muted mb-2"
        >Confirm Password</label
      >
      <input
        type="password"
        id="setup-confirm"
        class="w-full"
        placeholder="Re-enter password"
        autocomplete="new-password"
      />
    </div>

    <div id="setup-error" class="text-red-400 text-sm hidden"></div>
  </div>
</Modal>
